import { EquipmentData } from '@/types/equipment';

// CSV data as string
const csvData = `type,code,VIN#,YEAR,MAKE,MODEL,TYPE,ETC LOCATION,STATUS,ETC POC,CUSTOMER,"ETC
 JOB #",ECMS #,"RENTAL
 START DATE",rental end date,current_billing_start,current_billing_end,"RENTAL
 RETURN DATE","RENTAL
 RATE",NOTES
message board,PSC-9,1P91D1215FA301604,2015,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,ON RENT,RICHARD,WAGMAN,2024029,PTC,,,,,,800.00,
message board,PSC-9,1P91D1215FA301604,2015,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,ON RENT,RICHARD,WAGMAN,2024029,PTC,,,,,,800.00,
message board,PSC-10,1P91D125FA301540,2015,PSC,SMC-1000-ST,THREE-LINE,BEDFORD,AVAILABLE,JIM R., , ,, ,,,,, ,
message board,PSC-11,1P91D0219JG301217,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,ON RENT,JOHN,,,,,,,,,800.00,
message board,PSC-12,1P91D1219FA301556,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, ,
message board,PSC-13,1P91D1212FA301544,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,PENDING,JOHN, , , , ,,,,, ,"SOLD TO  Bill Anskis Company, Inc"
message board,PSC-14,1P91D1210FA301543,2015,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,ON RENT,JOHN,DEBLIN,RENTAL,PA TPK,10/30/2025,,,,,"1,000.00",PA TPK Lehigh County - LOWER MACUNGIE ROAD OVER PA PTK (476)
message board,PSC-16,1P91D1217FA301541,2015,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, ,
message board,PSC-17,1P91D0218JG301063,2015,PSC,SMC-1000-ST,THREE-LINE,BEDFORD,AVAILABLE,JIM R.,,,,,,,,,,
message board,PSC-18,1P91D1219FA301542,2015,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,AVAILABLE,RICHARD,, , , ,,,,, , 
message board,PSC-20,1P91D1212FA301611,2015,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JIM/LARRY,,,,,,,,,,
message board,PSC-22,1P91D1217FA301555,2015,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,PENDING,JOHN, , ,,,,,,, ,"SOLD TO  Bill Anskis Company, Inc"
message board,PSC-23,1P91D1217FA301605,2015,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, ,
message board,PSC-24,1P91D121XFA301548,2015,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,PSC-26,1P91D0214JG301061 10189 #1A,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,PSC-27,550 #5A 1P91D0216JG301062,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,ON RENT,JOHN,Heidelberg Materials,222025008,107175,2/10/0202,,,,,950.00, 
message board,PSC-29, 1P91D0217JG301183,2018,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,,,900.00, 
message board,PSC-30,1P91D0219JG301184 #7A MODEM INSTALLED,2018,PSC,SMC-1000-ST,THREE-LINE,BEDFORD,AVAILABLE,JIM R., , , , ,,,,, ,
message board,PSC-31,1P91D0213JG301782 547 #8A,2018,PSC,SMC-1000-ST,THREE-LINE,BEDFORD,AVAILABLE,JIM R., , , , ,,,,, ,
message board,PSC-32,1P91D0213JG301181 546 #9A,2018,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,DAMAGED,RICHARD,  , ,, ,,,, , ,"BOARD IS BEING SOLD ""AS IS"" TO BILL ANSKIS"
message board,PSC-33,1P91D0215JG301196 560 #10A,2018,PSC,SMC-1000-ST,THREE-LINE,BEDFORD,DAMAGED,JIM R.,,,,,,,,,850.00,
message board,PSC-34,1P91D0211JG301194 #11A,2018,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,PENDING,JOHN,,,,,,,,,,"SOLD TO  Bill Anskis Company, Inc"
message board,PSC-35,1P91D0213JG301195 559 #12A,2018,PSC,SMC-1000-ST,THREE-LINE,HATFIELD,DAMAGED,JOHN,Heidelberg Materials,222025008,107175,2/10/0202,,,,,950.00,DAMAGED DUE TO WIND BLOW OVER
message board,PSC-37,1P91C1214JG31036,2018,PSC,SMC-1000-ST,THREE-LINE,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,,,950.00, 
message board,PSC-38,1P91C1215JG301045 #2A MODEM INSTALLED,2018,PSC,SMC-2000-ST,FULL-MATRIX,BEDFORD,AVAILABLE,JIM R.,,,,,,,,,,
message board,PSC-39,1P91C1212JG31035,2018,PSC,SMC-2000-ST,FULL-MATRIX,BEDFORD,AVAILABLE,JIM R.,,,,,,,,,,
message board,PSC-40,1C91F0618JG301097,2018,PSC,SMC-2000-ST,FULL-MATRIX,BEDFORD,AVAILABLE,JIM R.,,,,,,,,,,
message board,PSC-41,1P91C1214JG301361,2018,PSC,SMC-2000-ST,FULL-MATRIX,HATFIELD,DAMAGED,JOHN, ,,, ,,,,, ,BOARD WAS HIT BUT NOT REPORTED - CABINET IS BENT
message board,PSC-42,1P91C1219JG301369,2018,PSC,SMC-2000-ST,FULL-MATRIX,HATFIELD,DAMAGED,JOHN, , , , ,,,,, , DAMAGED FROM ACCIDENT ALLAN MYERS JOB # 22-2025152
message board,MB-44,4GM2M1511K1415290,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-45,4GM2M1515K1415292,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-46,4GM2M1515K1415289,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-47,4GM2M1514K1415297,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-49,4GM2M1512K1415296,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,DAMAGED,JOHN,NESL, , , , ,,,,, ,DESTROYED IN AN ACCIDENT ON 10/13/24 (PAID)
message board,MB-50,4GM2M1519K1415294,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-51,4GM2M1510K1415295,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,Heidelberg Materials,222025008,107175,2/10/0202,,,,,950.00, 
message board,MB-52,4GM2M1517K1415293,2018,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-53,4GM2M1517K1415429,2019,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,H&K GROUP,2023130,112298,12/17/2023,,5/18/2024,6/18/2024,TBD,800.00,BILLING STARTED 12/17/23
message board,MB-54,4GM2M1517K1415430,2019,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,Heidelberg Materials,222025008,107175,2/10/0202,,,,,950.00, 
message board,MB-55,4GM2M1517K1415431,2019,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-56,4GM2M1514K1415477,2019,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-57,4GM2M1516K1415478,2019,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,Heidelberg Materials,222025008,107175,2/10/0202,,,,,950.00, 
message board,MB-58,5F12S1015K1004798,2019,WANCO,METRO- MINI BOARD,FULL-MATRIX,HATFIELD,ON RENT,JOHN,H&K GROUP,2023130,112298,9/16/2024,,,,TBD,800.00,
message board,MB-59,5F12S1017K1004799,2019,WANCO,METRO- MINI BOARD,FULL-MATRIX,HATFIELD,ON RENT,JOHN,H&K GROUP,2023130,112298,9/16/2024,,,,TBD,800.00, 
message board,MB-60,4GM2M1519M1416742,2021,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-61,4GM2M1510M1416743,2021,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-62,4GM2M1512M1416744,2021,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,H&K GROUP,2023130,112298,12/17/2023,,5/18/2024,6/18/2024,TBD,800.00,BILLING STARTED 12/17/23; REPLACED MB-52 DUE TO MAINT.
message board,MB-63,4GM2M1514M1416745,2021,SOLAR TECH,SILENT MSG,FULL-MATRIX,TURBOTVILLE,ON RENT,RICHARD,WAGMAN,2024039,,,,,,,,
message board,MB-64,4GM2M1514N1417010,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-65,4GM2M1516N1417011,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-66,4GM2M1518N1417012,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-67,4GM2M151XN1417013,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,,, , 
message board,MB-68,4GM2M1511N1417014,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,DAMAGED,JOHN, , , , ,,,,, ,DAMAGED ON ETC JOB # 222024148 (paid)
message board,MB-69,4GM2M1513N1417015,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-70,4GM2M1512N1417281,2022,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-71,4GM2M1312N1466211,2022,SOLAR TECH,MINI - SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, ,
message board,MB-72,4GM2M1517S1418096,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,BEDFORD,AVAILABLE,JIM R., , , , ,,,,, , 
message board,MB-73, 4GM2M1519S1418097,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-74, 4GM2M1510S1418098,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-75, 4GM2M1512S1418099,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
message board,MB-76,  4GM2M1515S1418100,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,TURBOTVILLE,AVAILABLE,RICHARD,,,,,,,,,, 
message board,MB-77,4GM2M1515S1418095,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JIM/LARRY,,RENTAL, , ?,,,,, ,Lights in the Parkway
message board,MB-78,4GM2M131651464019 ,2025,SOLAR TECH,MINI - SILENT MSG,FULL-MATRIX,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, , 
message board,MB-79, 4GM2M1515S1300175,2025,SOLAR TECH,SILENT MSG,FULL-MATRIX,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, , 
arrow board,AB-6,5F11S1018E1001717,2012,WANCO,WIECO,WANCO,HATFIELD,AVAILABLE,JIM/LARRY,,,,,,,,,,
arrow board,AB-8,5F11S101371003068,2007,WANCO,WTSP75-LSAC,WANCO,BEDFORD,AVAILABLE,JIM R., , ,, ,,,,,650.00, 
arrow board,AB-20,5F11S1012E1001714,2012,WANCO,WIECO,WANCO,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,,,650.00, 
arrow board,AB-23,5F11S1017D1001299,2012,WANCO,WIECO,WANCO,TURBOTVILLE,AVAILABLE,RICHARD,RYLIND,222025041,119411,4/4/2025,,,,,450.00,
arrow board,AB-26,5F11S1017D1001299,2012,WANCO,WIECO,WANCO,TURBOTVILLE,AVAILABLE,RICHARD,,,,,,,,,,ONE DAY RENTAL RETURNED 7/8/25
arrow board,AB-27,5F11S101XD1001300,2012,WANCO,WIECO,WANCO,HATFIELD,ON RENT,JOHN,H&K GROUP,2023130,112298,8/31/2023,,3/31/2024,4/30/2024,TBD,400.00,BILLING STARTED ON 8/31/23
arrow board,AB-29,5F11S101XD1002446,2012,WANCO,WIECO,WANCO,HATFIELD,ON RENT,JIM/LARRY,TONY DEPAUL,2023059,17697,,,,,TBD,350.00,Need status of Equip on job for billing dates
arrow board,AB-30,5F11S1019D1002132,2012,WANCO,WIECO,WANCO,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,,,650.00, 
arrow board,AB-33 - WAZE,5F11S1014E1001715,2014,WANCO,WIECO,WANCO,TURBOTVILLE,AVAILABLE,RICHARD,RYLIND,222025041,119411,4/4/2025,,,,,450.00,
arrow board,AB-34,5F11S1013K1000731,2019,WANCO,WIECO,WANCO,BEDFORD,AVAILABLE,JIM R.,,,, ,,,, ,, 
arrow board,AB-35,5F11S101XK1000810,2019,WANCO,WIECO,WANCO,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,, , , 
arrow board,AB-36,5F11S1017K1001252,2019,WANCO,WIECO,WANCO,BEDFORD,AVAILABLE,JIM R., , , , ,,,,,310.00,
arrow board,AB-37 - WAZE,5F11S1012K1001241,2019,WANCO,WIECO,WANCO,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,,,650.00, 
arrow board,AB-38,4GM1A091XN1532574,2022,SOLAR TECH,WIECO,SOLAR TECH,BEDFORD,AVAILABLE,JIM R., , , , ,,,,,,
arrow board,AB-39,4GM1A0911N1532575,2022,SOLAR TECH,WIECO,SOLAR TECH,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,,, ,
speed trailer,ST-5,5F15S091761000459,2006,WANCO,WSDT-S,WANCO,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,,, ,"BOARD IS BEING SOLD ""AS IS"" TO BILL ANSKIS"
speed trailer,ST-8,5F15S091361000460,2006,WANCO,WSDT-S,WANCO,TURBOTVILLE,DAMAGED,RICHARD,  , ,, ,,,, , ,"BOARD IS BEING SOLD ""AS IS"" TO BILL ANSKIS"
speed trailer,ST-9,5F15S091561001755,2006,WANCO,WSDT-S,WANCO,TURBOTVILLE,DAMAGED,RICHARD,,,,,,,,,,"BOARD IS BEING SOLD ""AS IS"" TO BILL ANSKIS"
speed trailer,ST-15,5F15S091371001917,2007,WANCO,WSDT-S,WANCO,TURBOTVILLE,AVAILABLE,RICHARD, ,,,,,,,,,"BOARD IS BEING SOLD ""AS IS"" TO BILL ANSKIS"
speed trailer,ST-21,5F15S0918K1001386,2019,WANCO,WSDT3-S,WANCO,HATFIELD,AVAILABLE,JOHN, , , , ,,,,, ,
speed trailer,ST-23,5F15S0919K1002871,2019,WANCO,WSDT3-S,WANCO,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, ,
speed trailer,ST-24,5F15S0910K1002869,2019,WANCO,WSDT3-S,WANCO,BEDFORD,AVAILABLE,JIM R.,,,,,,,,,,
speed trailer,ST-26,5F15S0917K1002867,2019,WANCO,WSDT3-S,WANCO,HATFIELD,ON RENT,JOHN,DEBLIN,22-2025126, ,12/29/25,,,,, ,
speed trailer,ST-30,4GM1R0917K1220183,2019,SOLAR TECH,RST-2000,SOLAR TECH,BEDFORD,AVAILABLE,JIM R., , , , ,,,, , ,
speed trailer,ST-32,4GM1R091XK1220193,2019,SOLAR TECH,RST-2000,SOLAR TECH,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,, , ,
speed trailer,ST-33,4GM1R0914M1220239,2021,SOLAR TECH,RST-2000,SOLAR TECH,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,, , ,
speed trailer,ST-35,4GM1R0915M1220251,2021,SOLAR TECH,RST-2000,SOLAR TECH,TURBOTVILLE,AVAILABLE,RICHARD, , , , ,,,, , ,
speed trailer,ST-37,4GM1R0915P1210322,2023,SOLAR TECH,RST-1000,SOLAR TECH,HATFIELD,AVAILABLE,JOHN, , , , ,,,, , ,
speed trailer,ST-38,4GM1R0917P1210323,2023,SOLAR TECH,RST-1000,SOLAR TECH,HATFIELD,AVAILABLE,JOHN, , , , ,,,, , ,
truck mounted attenuator,TMA 205,1HTMMAAM04H596427,2004,INTERNATIONAL,4000 SER,N/A,TURBOTVILLE,AVAILABLE,RICHARD,SUITE KOTE,222025041,119411,4/3/2025,,,,,"3,800.00", 
truck mounted attenuator,TMA 206,1HTMMAAM56H180599,2006,INTERNATIONAL,4000 SER,N/A,HATFIELD,ON RENT,JIM/LARRY,CADDICK, , , ,,,,,, 
truck mounted attenuator,TMA 207,1HTMMAAM16H135224,2006,INTERNATIONAL,4000 SER,N/A,HATFIELD,ON RENT,JOHN,BILL ANSKIS, , ,11/29/2025,,,,, , 
truck mounted attenuator,TMA 209,1FV3GJAC0WH977709,1998,FREIGHTLINER,MED CONY,N/A,HATFIELD,AVAILABLE,RICHARD,H&K GROUP,2024009,PA TPK,6/1/2024,,6/15/2024,7/15/2024,,"3,250.00",PA TPK A105 Bear Creek Bridges
truck mounted attenuator,TMA 210,1HTMMAAM56H186760,2006,INTERNATIONAL,4000 SER,N/A,TURBOTVILLE,AVAILABLE,RICHARD,RYLIND,222025041,119411, ,,,,,"3,800.00",REPLACED TMA# 211
truck mounted attenuator,TMA 211,1HTMMAAM76H180801,2006,INTERNATIONAL,4000 SER,N/A,TURBOTVILLE,DAMAGED,RICHARD, , , , ,,,,, ,TRUCK WILL NOT START AND WAS TOWED TO ASCENDANCE INTERNATIONAL IN WILLIAMSPORT ON 10/29/25
truck mounted attenuator,TMA 217,1GDJ7C1C55F900841,2005,GMC,C7500/C7C042,N/A,BEDFORD,AVAILABLE,JIM R.,,,,,,,, ,, 
truck mounted attenuator,TMA 218,1GDJ7C1CX4F900980,2005,GMC,C7500/C7C042,N/A,BEDFORD,AVAILABLE,JIM R.,,, , ,,,, , , 
truck mounted attenuator,TMA 222,1GDJ7Cl316F901082,2006,GMC,C7500,N/A,TURBOTVILLE,AVAILABLE,RICHARD,H&K GROUP,2024009,PA TPK,6/1/2024,,6/15/2024,7/15/2024, , ,PA TPK A105 Bear Creek Bridges
truck mounted attenuator,TMA 223,1HTMMAAN8BH323158,2011,INTERNATIONAL,4000 430,N/A,BEDFORD,AVAILABLE,JIM R.,,,,,,,, ,, 
truck mounted attenuator,TMA 224,5PVNJ8JV1K4S72693,2019,HlNO,258/268,N/A,BEDFORD,AVAILABLE,JIM R., , , , ,,,, ,"4,200.00",PTC T-236.20R001-3-02 (242 and 236 interchanges) Cumberland / York Counties
truck mounted attenuator,TMA 225,5PVNJ8JM4K4S51098,2019,HINO,258/268,N/A,HATFIELD,AVAILABLE,JIM/LARRY, , , , ,,,,,"3,800.00",
truck mounted attenuator,TMA 230,1M2MDAAA2SS015539,2025,MACK,MD6,N/A,BEDFORD,AVAILABLE,JIM R., , , , ,,,,, ,
truck mounted attenuator,TMA 231,1M2MDAAA1SS014656,2025,MACK,MD6,N/A,BEDFORD,AVAILABLE,JIM R., , , , ,,,,, ,`;

// Function to parse CSV and return EquipmentData[]
export function parseCSV(csv: string): EquipmentData[] {
  const lines = csv.trim().split('\n');
  const headers = lines[0].split(',').map(h => h.trim());
  const data: EquipmentData[] = [];

  for (let i = 1; i < lines.length; i++) {
    const values = lines[i].split(',').map(v => v.trim());
    if (values.length < headers.length) continue;

    const row: any = {};
    headers.forEach((header, index) => {
      row[header] = values[index] || '';
    });

    // Map to EquipmentData
    const equipment: EquipmentData = {
      id: row['code'] || row['VIN#'] || `item-${i}`,
      type: row['type'] || '',
      code: row['code'] || '',
      make: row['MAKE'] || '',
      model: row['MODEL'] || '',
      branch: row['ETC LOCATION'] || '',
      status: mapStatus(row['STATUS']),
      customer: row['CUSTOMER'] || undefined,
      rentalRate: parseFloat(row['RENTAL\n RATE']?.replace(/[,$]/g, '') || '0'),
      startDate: row['RENTAL\n START DATE'] || undefined,
      endDate: row['rental end date'] || undefined,
    };

    // Set default dates for ON RENT items without dates to make bars visible
    if (equipment.status === 'ON RENT' && (!equipment.startDate || equipment.startDate === '')) {
      equipment.startDate = '2025-01-05';
      equipment.endDate = '2025-01-20';
    }

    data.push(equipment);
  }

  return data;
}

// Map status values to our enum
function mapStatus(status: string): 'AVAILABLE' | 'ON RENT' {
  const upperStatus = status?.toUpperCase();
  if (upperStatus === 'ON RENT') return 'ON RENT';
  return 'AVAILABLE'; // Default to AVAILABLE for PENDING, DAMAGED, etc.
}

// Export the parsed data
export const rentalData = parseCSV(csvData);
